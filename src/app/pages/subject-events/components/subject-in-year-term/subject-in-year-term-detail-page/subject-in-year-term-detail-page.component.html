<!-- @fadeIn -->
<section *ngIf="term">
    <section>
        <nz-page-header [nzGhost]="false" class="site-page-header">
            <nz-page-header-title>{{term.subjectInYearYear}} <nz-divider nzType="vertical"></nz-divider>
                {{term.subjectInYearName}} <nz-divider nzType="vertical"></nz-divider> {{term.term}}
            </nz-page-header-title>
            <nz-page-header-subtitle></nz-page-header-subtitle>
            <nz-page-header-extra>
                <button nz-button nzType="primary" [routerLink]="'/admin/term/' + term.id +'/stag-connection/create'"
                    class="btn-stag"><i nz-icon nzType="link" nzTheme="outline"></i>Nové stag propojení</button>
                <button nz-button nzType="primary" [routerLink]="'/admin/term/' + term.id +'/block/create'"><i nz-icon
                        nzType="plus" nzTheme="outline"></i>Nový blok</button>
            </nz-page-header-extra>
            <nz-page-header-content>
                <nz-breadcrumb>
                    <nz-breadcrumb-item><a routerLink="/admin/subjects">Předměty</a>
                    </nz-breadcrumb-item>
                    <nz-breadcrumb-item>
                        <a [routerLink]="['/admin/subjects/detail', term.subjectId]">Detail předmětu</a>
                    </nz-breadcrumb-item>
                    <nz-breadcrumb-item>
                        <a [routerLink]="['/admin/subject-year', term.subjectInYearId]">Detail roku</a>
                    </nz-breadcrumb-item>
                    <nz-breadcrumb-item>
                        <a>Detail semestru</a>
                    </nz-breadcrumb-item>
                </nz-breadcrumb>
            </nz-page-header-content>

        </nz-page-header>
    </section>

    <section>
        <div class="title">
            Bloky
        </div>
        <div class="subjects-wrapper">
            <app-subject-in-year-block-table [blocks]="blocks" [dataLoading]="blocksDataLoading">
            </app-subject-in-year-block-table>
        </div>
    </section>


    <section>
        <div class="title">
            Stag propojení

            <div style="float: right;" class="icon-hover">
                <span nz-tooltip
                    nzTooltipTitle="Stag propojení na předmět slouží k načtení rozvhorvých akcí a posléze k získání studentů, kteří jsou přiřazování do bloků.">
                    <i class="fas fa-info-circle"></i>
                </span>

            </div>
        </div>
        <div class="subjects-wrapper">
            <app-term-stag-connection-table [connections]="connections" [dataLoading]="connectionsDataLoading">
            </app-term-stag-connection-table>
        </div>
    </section>

</section>

<div class="page-loader-wrapper" *ngIf="!term">
    <app-page-loader></app-page-loader>
</div>